## 播放器主要部分-歌词解析

很多人可能都会对如何去做一个音乐播放器感兴趣，所以我们今天就讲讲做一个音乐播放器最核心的一部分，如何做歌词的解析。

这里我们要说的是如何以最简单的方式去实现我们的需求，技术是为业务服务的。我曾经的导师跟我说过一句话：当我们拿到一个需求后首先思考如何去以最简单的方式去实现这个需求，其次才是考虑改善和提升以及更深层次比如封装复用的问题。今天我们就来讲讲怎么去做歌词的解析。

### 歌词部分

一般当我们去请求到一首歌的时候，我们会拿到一段歌词的字符串，这段歌词的字符串是长这个样子的

```
//歌曲：错位时空
[00:02.23]词：周仁
[00:03.19]曲：张博文
[00:04.20]OP：腾煌星象
[00:04.20]出品：网易飓风工作室
[00:13.51]
[00:15.50]填不满半排观众的电影
[00:19.12]直到散场时突然亮起灯
[00:23.03]字幕定格在某某出品和发行
[00:26.30]我目送 他们行色匆匆
[00:29.88]像个自不量力的复读生
[00:33.45]完不成金榜题名的使命
[00:37.28]命不是猜剪刀石头布的决定
[00:41.03]那么任性
[00:44.52]我吹过你吹过的晚风
[00:48.12]那我们算不算 相拥
[00:51.73]可如梦初醒般的两手空空
[00:55.34]心也空
[00:58.90]我吹过你吹过的晚风
[01:02.50]是否看过同样 风景
[01:06.10]像扰乱时差留在错位时空
[01:09.67]终是空 是空
.........
```

首先我们想到做歌词的显示，肯定是需要将时间和当前的歌词对应上，所以我们就先思考数据结构。我们把所有歌词都存到一个数组里，然后每一句歌词都对应着一个时间，所以数组里的内容可以对应着一个个对象。

```js
const lyrics = [
    {
    	time: '00:44.52',
    	content: '我吹过你吹过的晚风'
	},
    {
        time: '00:48.12',
    	content: '那我们算不算相拥'
    }
]
```

### 解析

怎么去把歌词的时间和内容解析出来呢？此时我们的正则表达式就派上用场了。